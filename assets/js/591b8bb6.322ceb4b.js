"use strict";(self.webpackChunkastreval_docs=self.webpackChunkastreval_docs||[]).push([[678],{1279:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>a,metadata:()=>n,toc:()=>u});const n=JSON.parse('{"id":"gametest_structures","title":"Utilisation des Structures dans GameTest","description":"Introduction","source":"@site/docs/gametest_structures.md","sourceDirName":".","slug":"/gametest_structures","permalink":"/astreval-docs/docs/gametest_structures","draft":false,"unlisted":false,"editUrl":"https://github.com/AstrevalRP/astreval-docs/tree/main/packages/create-docusaurus/templates/shared/docs/gametest_structures.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"\xc9crire des Tests pour un Bloc","permalink":"/astreval-docs/docs/writing_block_tests"}}');var r=s(4848),i=s(8453);const a={sidebar_position:4},o="Utilisation des Structures dans GameTest",c={},u=[{value:"Introduction",id:"introduction",level:2},{value:"Structures par D\xe9faut",id:"structures-par-d\xe9faut",level:2},{value:"Cr\xe9er une Structure Personnalis\xe9e",id:"cr\xe9er-une-structure-personnalis\xe9e",level:2},{value:"Utiliser la Structure dans un Test",id:"utiliser-la-structure-dans-un-test",level:3},{value:"Conclusion",id:"conclusion",level:2}];function l(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"utilisation-des-structures-dans-gametest",children:"Utilisation des Structures dans GameTest"})}),"\n",(0,r.jsx)(t.h2,{id:"introduction",children:"Introduction"}),"\n",(0,r.jsx)(t.p,{children:"Les structures dans GameTest sont des fichiers JSON qui d\xe9finissent l'environnement initial pour vos tests. Elles permettent de cr\xe9er des sc\xe9narios sp\xe9cifiques pour tester des fonctionnalit\xe9s de jeu de mani\xe8re automatis\xe9e. Ce guide vous montrera comment cr\xe9er et utiliser des structures pour vos tests GameTest."}),"\n",(0,r.jsx)(t.h2,{id:"structures-par-d\xe9faut",children:"Structures par D\xe9faut"}),"\n",(0,r.jsxs)(t.p,{children:["Par d\xe9faut, les structures utilis\xe9es dans les tests GameTest sont vides. Cela signifie que le test commence dans un environnement vide, sans aucun bloc ou entit\xe9 pr\xe9-plac\xe9. Cette configuration est d\xe9finie en utilisant l'annotation ",(0,r.jsx)(t.code,{children:"@GameTest(templateName = FabricGameTest.EMPTY_STRUCTURE)"}),"."]}),"\n",(0,r.jsx)(t.p,{children:"Exemple de test utilisant la structure par d\xe9faut :"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-java",children:"package fr.astreval.test.block;\n\nimport fr.astreval.block.ModBlocks;\nimport net.fabricmc.fabric.api.gametest.v1.FabricGameTest;\nimport net.minecraft.entity.player.PlayerEntity;\nimport net.minecraft.item.ItemStack;\nimport net.minecraft.item.Items;\nimport net.minecraft.test.GameTest;\nimport net.minecraft.test.TestContext;\nimport net.minecraft.util.Hand;\nimport net.minecraft.util.math.BlockPos;\n\npublic class MyBlockTest implements FabricGameTest {\n\n  @GameTest(templateName = FabricGameTest.EMPTY_STRUCTURE)\n  public void useBoneMeal(TestContext context) {\n    BlockPos pos = new BlockPos(1, 1, 1);\n    context.setBlockState(pos, ModBlocks.MY_BLOCK.getDefaultState());\n\n    PlayerEntity player = context.createMockSurvivalPlayer();\n    ItemStack boneMealStack = new ItemStack(Items.BONE_MEAL);\n    player.setStackInHand(Hand.MAIN_HAND, boneMealStack);\n    context.useBlock(pos, player);\n\n    context.expectBlockProperty(pos, ModBlocks.MY_BLOCK.getAgeProperty(), 1);\n\n    context.complete();\n  }\n}\n"})}),"\n",(0,r.jsx)(t.h2,{id:"cr\xe9er-une-structure-personnalis\xe9e",children:"Cr\xe9er une Structure Personnalis\xe9e"}),"\n",(0,r.jsx)(t.p,{children:"Pour tester des sc\xe9narios sp\xe9cifiques, vous pouvez cr\xe9er des structures personnalis\xe9es. Voici comment proc\xe9der :"}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsx)(t.li,{children:"Cr\xe9er un Fichier JSON :"}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["Cr\xe9ez un fichier JSON dans le dossier ",(0,r.jsx)(t.code,{children:"src/main/resources/data/astreval-jobs/structures"}),".\nNommez le fichier en fonction de la structure, par exemple ",(0,r.jsx)(t.code,{children:"my_structure.json"}),"."]}),"\n",(0,r.jsxs)(t.ol,{start:"2",children:["\n",(0,r.jsx)(t.li,{children:"D\xe9finir la Structure :"}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"Utilisez le format JSON pour d\xe9finir les blocs et les entit\xe9s dans la structure."}),"\n",(0,r.jsx)(t.p,{children:"Exemple de structure JSON :"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-json",children:'{\n  "size": [3, 3, 3],\n  "palette": {\n    "air": { "block": "minecraft:air" },\n    "stone": { "block": "minecraft:stone" }\n  },\n  "blocks": [\n    [ "stone", "stone", "stone" ],\n    [ "air", "stone", "air" ],\n    [ "stone", "stone", "stone" ]\n  ],\n  "entities": []\n}\n'})}),"\n",(0,r.jsx)(t.h3,{id:"utiliser-la-structure-dans-un-test",children:"Utiliser la Structure dans un Test"}),"\n",(0,r.jsx)(t.p,{children:"R\xe9f\xe9rencez la structure dans votre m\xe9thode de test en utilisant l'annotation @GameTest."}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-java",children:'// ... existing code ...\n\n@GameTest(templateName = "astreval-jobs:my_structure")\npublic void testWithStructure(TestContext context) {\n  BlockPos pos = new BlockPos(1, 1, 1);\n  context.setBlockState(pos, ModBlocks.MY_BLOCK.getDefaultState());\n\n  // Ajoutez votre logique de test ici\n\n  context.complete();\n}\n'})}),"\n",(0,r.jsx)(t.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,r.jsx)(t.p,{children:"Les structures dans GameTest sont un outil puissant pour cr\xe9er des environnements de test r\xe9alistes et sp\xe9cifiques. Par d\xe9faut, les structures sont vides, mais vous pouvez cr\xe9er des structures personnalis\xe9es pour tester des sc\xe9narios complexes. En utilisant ces structures, vous pouvez automatiser vos tests et vous assurer que votre mod fonctionne comme pr\xe9vu dans diverses situations."})]})}function d(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},8453:(e,t,s)=>{s.d(t,{R:()=>a,x:()=>o});var n=s(6540);const r={},i=n.createContext(r);function a(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);